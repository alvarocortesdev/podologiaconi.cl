// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Service {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  price       Float
  category    String
  isVisible   Boolean  @default(true)
  showPrice   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Admin {
  id                    Int       @id @default(autoincrement())
  username              String    @unique
  password              String
  email                 String?
  pendingEmail          String?
  isSetup               Boolean   @default(false)
  verificationCode      String?
  verificationCodeExpiresAt DateTime?
}

model Contact {
  id        Int      @id @default(autoincrement())
  name      String
  email     String?
  phone     String   @unique
  createdAt DateTime @default(now())
}

model SiteConfig {
  id          Int      @id @default(1)
  
  // Contact Info
  email       String   @default("contacto@podologiaconi.cl")
  phone       String   @default("+56 9 XXXX XXXX")
  instagram   String?
  whatsapp    String?

  // Hero Section
  heroTagline    String   @default("Atención Podológica Profesional")
  heroTitle      String   @default("Podología Clínica Integral")
  heroSubtitle   String   @default("Recupera la salud y belleza de tus pies con atención profesional personalizada.")
  heroButtonText String   @default("Agenda tu Hora")

  // About Section
  aboutTitle     String   @default("Hola, soy Constanza Cortés")
  aboutText      String   @default("Podóloga clínica certificada con experiencia en el tratamiento de diversas patologías del pie. Mi compromiso es brindar una atención de calidad, segura y empática.")
  aboutImage     String?
  showPrices     Boolean  @default(true)

  aboutCards     AboutCard[]

  updatedAt   DateTime @updatedAt
}

model AboutCard {
  id          Int      @id @default(autoincrement())
  title       String
  subtitle    String?  // e.g. Organization
  details     String?  // e.g. Year
  order       Int      @default(0)
  siteConfigId Int     @default(1)
  siteConfig   SiteConfig @relation(fields: [siteConfigId], references: [id])
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model SuccessCase {
  id          Int      @id @default(autoincrement())
  title       String
  description String
  imageBefore String?
  imageAfter  String?
  isVisible   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
